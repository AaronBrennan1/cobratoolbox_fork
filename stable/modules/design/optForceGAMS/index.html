

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>optForceGAMS &mdash; The COBRA Toolbox</title>
  

  
  
  
    <link rel="apple-touch-icon" sizes="180x180" href="../../../_static/img/apple-touch-icon.png">
  
  
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_static/img/favicon-32x32.png">
  
  
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_static/img/favicon-16x16.png">
  
  
    <link rel="mask-icon" href="../../../_static/img/safari-pinned-tab.svg" color="#5bbad5">
  
  
    <link rel="manifest" href="../../../_static/json/manifest.json">
  
  
    <meta name="msapplication-config" content="../../../_static/browserconfig.xml">
  
  <meta name="theme-color" content="#ffffff">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="../../../_static/js/jquery.easy-autocomplete.min.js" type="text/javascript" ></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href="../../../_static/css/easy-autocomplete.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/cobra.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="The COBRA Toolbox" href="../../../index.html"/>
        <link rel="up" title="Design" href="../index.html"/>
        <link rel="next" title="Reconstruction" href="../../reconstruction/index.html"/>
        <link rel="prev" title="optForce" href="../optForce/index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/img/logo.png" class="logo" alt="logo"/>
          
          </a>
          <h1>The COBRA Toolbox</h1>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" id="simple"/>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
    <script>
    	var options = {

		url: "../../../_static/json/functions.json",

		getValue: "name",

		list: {
            onKeyEnterEvent: function(item) {
                    return "_static/../" + item.website_url
            },
            maxNumberOfElements: 25,
			match: {
					enabled: true,
			},
            sort: {
			    enabled: true
		    }
		},

    	template: {
	    	type: "custom",
		    method: function(value, item) {
                return "<span><a href='../../../search.html?q=" + item.name + "&check_keywords=yes&area=default'>" + value + "</a>" + "<a href='../../../_static/../" + item.website_url + "' ><img src='../../../_static/link.svg'/></a></span>";
		    }
	    },

		theme: "square"

	};

	$("#simple").easyAutocomplete(options);


    </script>
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../../index.html">Home</a></li>
              </ul>
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../analysis/index.html">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../base/index.html">Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dataIntegration/index.html">Data integration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Design</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../optForce/index.html">optForce</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">optForceGAMS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reconstruction/index.html">Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../visualization/index.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cite.html">How to cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../funding.html">Funding</a></li>
</ul>

          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The COBRA Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Functions</a> &raquo;</li>
        
          <li><a href="../index.html">Design</a> &raquo;</li>
        
      <li>optForceGAMS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="optforcegams">
<span id="id1"></span><h1>optForceGAMS<a class="headerlink" href="#optforcegams" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-src.design.optForceGAMS"></span><dl class="function">
<dt id="src.design.optForceGAMS.exportInputsMustOrder2ToGAMS">
<code class="descname">exportInputsMustOrder2ToGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>constrOpt</em>, <em>excludedRxns</em>, <em>mustSetFirstOrder</em>, <em>inputFolder</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/exportInputsMustOrder2ToGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.exportInputsMustOrder2ToGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function exports all the inputs needed to run the GAMS functions to
find second order Must Sets (<cite>MustUU</cite>, <cite>MustLL</cite>, <cite>MustUL</cite>). The inputs will
be stored in inputFolder. Some inputs will be exported using GDXMRW and
others will be exported as simple .txt files.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>exportInputsMustOrder2ToGAMS(model, minFluxesW, maxFluxesW, constrOpt, excludedRxns, mustSetFirstOrder, inputFolder)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least
the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S -    Stoichiometric matrix (sparse)</li>
<li>.b -    RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c -    Objective coefficients</li>
<li>.lb -   Lower bounds for fluxes</li>
<li>.ub -   Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>maxFluxesW = [90; 56];</cite></p>
</li>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(structure) Structure containing additional
contraints. Include here only reactions
whose flux is fixed, i.e., reactions whose
lower and upper bounds have the same value.
Do not include here reactions whose lower
and upper bounds have different values. Such
contraints should be defined in the lower
and upper bounds of the model. The structure
has the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained reactions
(double array). E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedRxns</strong> &#8211;
(cell array) Reactions to be excluded to the
<cite>MustUL</cite> set. This could be used to avoid
finding transporters or exchange reactions
in the set. Default: empty.</p>
</li>
<li><p class="first"><strong>mustSetFirstOrder</strong> &#8211;
(cell array) Reactions that belong to <cite>MustU</cite>
and <cite>MustL</cite> (first order sets). Default: empty.</p>
</li>
<li><p class="first"><strong>inputFolder</strong> &#8211;
(string) Folder where inputs for GAMS
function will be stored</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>Reactions.txt</strong> &#8211;
(file) File containing the
identifiers for reactions</li>
<li><strong>Metabolites.txt</strong> &#8211;
(file) File containing the
identifiers for metabolites</li>
<li><strong>Constrains.txt</strong> &#8211;
(file) File containing the
identifiers for constrained reactions</li>
<li><strong>Excluded.txt</strong> &#8211;
(file) File containing the
identifiers for excluded reactions. These
reactions will not be considered in when
running <cite>findMustXX.gms</cite> (<cite>XX = UU</cite> or <cite>LL</cite> or <cite>UL</cite>
depending on the case)</li>
<li><strong>MustSetFirstOrder.txt</strong> &#8211;
(file) File containing the
identifiers for reactions in <cite>MustL</cite> and
<cite>MustU</cite></li>
<li><strong>MtoG.gdx</strong> &#8211;
(file) File containing the
parameters which will be read by GAMS
(lower bounds, upper bounds, stoichiometrix
matrix <cite>S</cite>, minimum and maximun fluxes for
each reaction in the previous step of FVA,
and the values for contrained reactions)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.exportInputsMustToGAMS">
<code class="descname">exportInputsMustToGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>constrOpt</em>, <em>inputFolder</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/exportInputsMustToGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.exportInputsMustToGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function export all the inputs needed to run the GAMS functions to
find first order Must Sets (<cite>MustU</cite>, <cite>MustL</cite>). The inputs will
be stored in inputFolder. Some inputs will be exported using GDXMRW and
others will be exported as simple .txt files.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>exportInputsMustToGAMS(model, minFluxesW, maxFluxesW, constrOpt, inputFolder)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least the
following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S -    Stoichiometric matrix (sparse)</li>
<li>.b -    RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c -    Objective coefficients</li>
<li>.lb -   Lower bounds for fluxes</li>
<li>.ub -   Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum fluxes
for each reaction in the model for wild-type
strain. This can be obtained by running the
function <cite>FVAOptForce</cite>. E.g.: <cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum fluxes
for each reaction in the model for wild-type
strain. This can be obtained by running the
function <cite>FVAOptForce</cite>. E.g.: <cite>maxFluxesW = [90; 56];</cite></p>
</li>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(structure) structure containing additional
contraints. Include here only reactions whose flux
is fixed, i.e., reactions whose lower and upper
bounds have the same value. Do not include here
reactions whose lower and upper bounds have
different values. Such contraints should be defined
in the lower and upper bounds of the model. The
structure has the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained reactions
(double array). E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>inputFolder</strong> &#8211;
(string) Folder where inputs for GAMS function
will be stored</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>Reactions.txt</strong> &#8211;
(file) File containing the identifiers for
reactions</li>
<li><strong>Metabolites.txt</strong> &#8211;
(file) File containing the identifiers for
metabolites</li>
<li><strong>Constrains.txt</strong> &#8211;
(file) File containing the identifiers for
constrained reactions</li>
<li><strong>MtoG.gdx</strong> &#8211;
(file) File containing the parameters which
will be read by GAMS (lower bounds, upper bounds,
stoichiometrix matrix <cite>S</cite>, minimum and maximun fluxes
for each reaction in the previous step of FVA, and
the values for contrained reactions)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.exportInputsOptForceToGAMS">
<code class="descname">exportInputsOptForceToGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>targetRxn</em>, <em>mustU</em>, <em>mustL</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>minFluxesM</em>, <em>maxFluxesM</em>, <em>k</em>, <em>n_sets</em>, <em>constrOpt</em>, <em>excludedURxns</em>, <em>excludedLRxns</em>, <em>excludedKRxns</em>, <em>inputFolder</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/exportInputsOptForceToGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.exportInputsOptForceToGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function export the inputs required by GAMS to run <cite>optForce</cite>. Some
inputs will be exported to plain text (.txt files) and others will be
exported using GDXMRW. Inputs will be stored in inputFolder</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>exportInputsOptForceToGAMS(model, targetRxn, mustU, mustL, minFluxesW, maxFluxesW, minFluxesM, maxFluxesM, k, nSets, constrOpt, excludedURxns, excludedLRxns, excludedKRxns, inputFolder)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least the
following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S -    Stoichiometric matrix (sparse)</li>
<li>.b -    RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c -    Objective coefficients</li>
<li>.lb -   Lower bounds for fluxes</li>
<li>.ub -   Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>targetRxn</strong> &#8211;
(string) string containing the ID for the
reaction whose flux is intented to be increased.
For example, if the production of succionate is
desired to be increased, &#8216;EX_suc&#8217; should be
chosen as the target reaction.
E.g.: <cite>targetRxn = &#8216;EX_suc&#8217;;</cite></p>
</li>
<li><p class="first"><strong>mustU</strong> &#8211;
(cell array) List of reactions in the <cite>MustU</cite> set
This input can be obtained by running the
script <cite>findMustU.m</cite>.
E.g.: <cite>mustU = {&#8216;R21_f&#8217;;&#8217;R22_f&#8217;};</cite></p>
</li>
<li><p class="first"><strong>mustL</strong> &#8211;
(cell array) List of reactions in the <cite>MustL</cite> set
This input can be obtained by running the
script <cite>findMustL.m</cite>.
E.g.: <cite>mustL = {&#8216;R11_f&#8217;;&#8217;R26_f&#8217;};</cite></p>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum fluxes
for each reaction in the model for wild-type strain.
E.g.: <cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum fluxes
for each reaction in the model for wild-type strain.
E.g.: <cite>maxFluxesW = [92; -86];</cite></p>
</li>
<li><p class="first"><strong>minFluxesM</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>)
Description: Minimum fluxes for each reaction in
the model for mutant strain E.g.: <cite>minFluxesW = [-90;
-56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesM</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum fluxes
for each reaction in the model for mutant strain.
E.g.: <cite>maxFluxesW = [92; -86];</cite></p>
</li>
<li><p class="first"><strong>k</strong> &#8211;
(double) number of intervations to be found</p>
</li>
<li><p class="first"><strong>nSets</strong> &#8211;
(double) maximum number of force sets returned
by <cite>optForce</cite>.</p>
</li>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing additional
contraints. Include here only reactions whose flux
is fixed, i.e., reactions whose lower and upper
bounds have the same value. Do not include here
reactions whose lower and upper bounds have
different values. Such contraints should be defined
in the lower and upper bounds of the model. The
structure has the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained reactions
(double array). E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedURxns</strong> &#8211;
(cell array) Reactions to be excluded from
upregulations</p>
</li>
<li><p class="first"><strong>excludedLRxns</strong> &#8211;
(cell array) Reactions to be excluded from
downregulations</p>
</li>
<li><p class="first"><strong>excludedKRxns</strong> &#8211;
(cell array) Reactions to be excluded from
knockouts</p>
</li>
<li><p class="first"><strong>inputFolder</strong> &#8211;
(string) folder where inputs will be stored.
Just the name of the folder, not the full path.</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>Reactions.txt</strong> &#8211;
(file) File containing the identifiers for
reactions</li>
<li><strong>Metabolites.txt</strong> &#8211;
(file) File containing the identifiers for
metabolites</li>
<li><strong>Constrains.txt</strong> &#8211;
(file) File containing the identifiers for
constrained reactions</li>
<li><strong>Excluded_U.txt</strong> &#8211;
(file) File containing the identifiers for
excluded reactions. These reactions will not be
considered for upregulations when running
<cite>optForce.gms</cite></li>
<li><strong>Excluded_L.txt</strong> &#8211;
(file) File containing the identifiers for
excluded reactions. These reactions will not be
considered for downregulations when running
<cite>optForce.gms</cite></li>
<li><strong>Excluded_K.txt</strong> &#8211;
(file) File containing the identifiers for
excluded reactions. These reactions will not be
considered for knowckouts when running <cite>optForce.gms</cite></li>
<li><strong>MustU.txt</strong> &#8211;
(file) File containing the identifiers for
upregulated reactions find in <cite>MustU</cite>, <cite>MustUU</cite> and
<cite>MustUL</cite></li>
<li><strong>MustU.txt</strong> &#8211;
(file) File containing the identifiers for
downregulated reactions find in <cite>MustL</cite>, <cite>MustLL</cite> and
<cite>MustUL</cite></li>
<li><strong>MtoG.gdx</strong> &#8211;
(file) File containing the parameters which
will be read by GAMS (lower bounds, upper bounds,
stoichiometrix matrix <cite>S</cite>, minimum and maximun fluxes
for each reaction in the previous step of FVA, and
the values for contrained reactions)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.exportSetToGAMS">
<code class="descname">exportSetToGAMS</code><span class="sig-paren">(</span><em>set</em>, <em>fileName</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/exportSetToGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.exportSetToGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function exports the information in &#8220;set&#8221; to a .txt file which can be
read by GAMS. &#8220;set&#8221; must be a cell array of strings.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[] = exportSetToGAMS(set, fileName)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>set</strong> &#8211;
(cell array of strings) cell array containing
identifiers for certain set of elements (reactions,
metabolites, etc).</li>
<li><strong>fileName</strong> &#8211;
(string) Name of the file in which the
information will be stored. It is recomended to
add the extension of the file.</li>
</ul>
</div></blockquote>
<p><strong>Output</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>fileName.txt</strong> &#8211;
(file) File of name &#8220;fileName&#8221; containing
the set of elements, one for row.</li>
</ul>
</div></blockquote>
<p><strong>Example</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">exportSetToGAMS</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">rxns</span><span class="p">,</span> <span class="s1">&#39;Reactions.txt&#39;</span><span class="p">)</span>
<span class="o">%</span><span class="n">This</span><span class="p">,</span> <span class="n">will</span> <span class="n">export</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">rxns</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span> <span class="n">called</span> <span class="n">Reactions</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.findMustLLWithGAMS">
<code class="descname">findMustLLWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>constrOpt</em>, <em>excludedRxns</em>, <em>mustSetFirstOrder</em>, <em>solverName</em>, <em>runID</em>, <em>outputFolder</em>, <em>outputFileName</em>, <em>printExcel</em>, <em>printText</em>, <em>printReport</em>, <em>keepInputs</em>, <em>keepGamsOutputs</em>, <em>verbose</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/findMustLLWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.findMustLLWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the second step of <cite>optForce</cite>, that is to solve a
bilevel mixed integer linear programming problem to find a second order
<cite>MustLL</cite> set.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[mustLL, pos_mustLL, mustLL_linear, pos_mustLL_linear] = findMustLLWithGAMS(model, minFluxesW, maxFluxesW, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least
the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S -    Stoichiometric matrix (sparse)</li>
<li>.b -    RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c -    Objective coefficients</li>
<li>.lb -   Lower bounds for fluxes</li>
<li>.ub -   Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>. E.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVA_optForce</cite>. E.g.:
<cite>maxFluxesW = [90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing
additional contraints. Include here only
reactions whose flux is fixed, i.e.,
reactions whose lower and upper bounds have
the same value. Do not include here
reactions whose lower and upper bounds have
different values. Such contraints should be
defined in the lower and upper bounds of
the model. The structure has the following
fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained
reactions (double array)
E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedRxns</strong> &#8211;
(cell array) Reactions to be excluded to
the <cite>MustLL</cite> set. This could be used to avoid
finding transporters or exchange reactions
in the set. Default = empty.</p>
</li>
<li><p class="first"><strong>mustSetFirstOrder</strong> &#8211;
(cell array) Reactions that belong to <cite>MustU</cite>
and <cite>MustL</cite> (first order sets). Default = empty.</p>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in
GAMS. Default = &#8216;cplex&#8217;.</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run.
Default = [&#8216;run&#8217; date hour].</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored. Default =
&#8216;OutputsFindMustLL&#8217;.</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which
results will be stored. Default =
&#8216;MustLLSet&#8217;.</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an excel file or
not. Default = 1</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an plaint text file
or not. Default = 1</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with
inputs to run <cite>findMustLL.gms</cite>. 0 otherwise.
Default = 1</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustLL.gms</cite>. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise. Default = 0</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>mustLL</strong> &#8211;
(cell array of size number of sets found X
2). Cell array containing the reactions IDs
which belong to the <cite>MustLL</cite> set. Each row
contain a couple of reactions that must
decrease their flux.</li>
<li><strong>pos_mustLL</strong> &#8211;
(double array of size number of sets found
X 2). Double array containing the positions
of each reaction in <cite>mustLL</cite> with regard to
<cite>model.rxns</cite></li>
<li><strong>mustLL_linear</strong> &#8211;
(cell array of size number of unique
reactions found X 1) Cell array containing
the unique reactions ID which belong to the
<cite>MustLL</cite> Set</li>
<li><strong>pos_mustLL_linear</strong> &#8211;
(double array of size number of unique
reactions found X 1) double array
containing positions for reactions in
<cite>mustLL_linear</cite>. with regard to <cite>model.rxns</cite></li>
<li><strong>outputFileName.xls</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
<cite>MustLL</cite>. This file will only be generated if
the user entered <cite>printExcel = 1</cite>. Note that
the user can choose the name of this file
entering the input <cite>outputFileName =
&#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName.txt</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
<cite>MustLL</cite>. This file will only be generated if
the user entered <cite>printText = 1</cite>. Note that
the user can choose the name of this file
entering the input <cite>outputFileName =
&#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.xls</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustLL.gms</cite>. This file will only be
generated if the user entered <cite>printExcel = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.txt</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustLL.gms</cite>. This file will only be
generated if the user entered <cite>printText = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>findMustLL.lst</strong> &#8211;
(file) file autogenerated by GAMS. It
contains information about equations,
variables, parameters as well as
information about the running (values at
each iteration). This file only will be
saved in the output folder if the user
entered <cite>keepGamsOutputs = 1</cite></li>
<li><strong>GtoMLL.gdx</strong> &#8211;
(file) file containing values for
variables, parameters, etc. which were
found by GAMS when solving <cite>findMustLL.gms</cite>.
This file only will be saved in the output
folder if the user entered <cite>keepInputs = 1</cite></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.findMustLWithGAMS">
<code class="descname">findMustLWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>varargin</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/findMustLWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.findMustLWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the second step of <cite>optForce</cite>, that is to solve a
bilevel mixed integer linear programming  problem to find a first order
<cite>MustL</cite> set.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[mustLSet, posMustL] = findMustLWithGAMS(model, minFluxesW, maxFluxesW, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least
the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S - Stoichiometric matrix (sparse)</li>
<li>.b - RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c - Objective coefficients</li>
<li>.lb - Lower bounds for fluxes</li>
<li>.ub - Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>maxFluxesW=[90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(structure) structure containing additional
contraints. Include here only reactions
whose flux is fixed, i.e., reactions whose
lower and upper bounds have the same value.
Do not include here reactions whose lower
and upper bounds have different values. Such
contraints should be defined in the lower
and upper bounds of the model. The structure
has the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values - Values for constrained reactions (double array)
e.g.: <cite>struct(&#8216;rxnList&#8217;,{{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100,0,155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in GAMS.
Default = &#8216;cplex&#8217;</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which results
will be stored</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter data
must be printed in an excel file or not</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter data
must be printed in an plaint text file or
not</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise.</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with inputs
to run <cite>findMustUU.gms</cite>. 0 otherwise.</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustUU.gms</cite>. 0 otherwise.</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise.</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>mustLSet</strong> &#8211;
(cell array of size number of reactions
found X 1) Cell array containing the
reactions ID which belong to the <cite>Must_U</cite> Set</p>
</li>
<li><p class="first"><strong>posMustL</strong> &#8211;
(double array of size number of reactions
found X 1) double array containing the
positions of reactions in the model.</p>
</li>
<li><p class="first"><strong>outputFileName.xls</strong> &#8211;
(file) File containing one column array
with identifiers for reactions in MustL.
This file will only be generated if the user
entered <cite>printExcel = 1</cite>. Note that the user
can choose the name of this file entering
the input <cite>outputFileName =
&#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName.txt</strong> &#8211;
(file) File containing one column array
with identifiers for reactions in MustL.
This file will only be generated if the user
entered <cite>printText = 1</cite>. Note that the user
can choose the name of this file entering
the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName_Info.xls</strong> &#8211;
(file) File containing five column
arrays.</p>
<blockquote>
<div><ul class="simple">
<li>C1: identifiers for reactions in <cite>MustL</cite></li>
<li>C2: min fluxes for reactions according to FVA</li>
<li>C3: max fluxes for reactions according to FVA</li>
<li>C4: min fluxes achieved for reactions,
according to <cite>findMustL.gms</cite></li>
<li>C5: max fluxes achieved for reactions,
according to <cite>findMustL.gms</cite></li>
</ul>
</div></blockquote>
<p>This file will only be generated if the user
entered <cite>printExcel = 1</cite>. Note that the user
can choose the name of this file entering
the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName_Info.txt</strong> &#8211;
(file) File containing five column
arrays.</p>
<blockquote>
<div><ul class="simple">
<li>C1: identifiers for reactions in <cite>MustL</cite></li>
<li>C2: min fluxes for reactions according to FVA</li>
<li>C3: max fluxes for reactions according to FVA</li>
<li>C4: min fluxes achieved for reactions,
according to <cite>findMustL.gms</cite></li>
<li>C5: max fluxes achieved for reactions,
according to <cite>findMustL.gms</cite></li>
</ul>
</div></blockquote>
<p>This file will only be generated if the user
entered <cite>printText = 1</cite>. Note that the user
can choose the name of this file entering
the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>findMustL.lst</strong> &#8211;
(file) file autogenerated by GAMS. It
contains information about equations,
variables, parameters as well as information
about the running (values at each
iteration). This file only will be saved in
the output folder is the user entered
<cite>keepGamsOutputs = 1</cite></p>
</li>
<li><p class="first"><strong>GtoML.gdx</strong> &#8211;
(file) file containing values for
variables, parameters, etc. which were found
by GAMS when solving <cite>findMustL.gms</cite>. This
file only will be saved in the output folder
is the user entered <cite>keepInputs = 1</cite></p>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.findMustULWithGAMS">
<code class="descname">findMustULWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>constrOpt</em>, <em>excludedRxns</em>, <em>mustSetFirstOrder</em>, <em>solverName</em>, <em>runID</em>, <em>outputFolder</em>, <em>outputFileName</em>, <em>printExcel</em>, <em>printText</em>, <em>printReport</em>, <em>keepInputs</em>, <em>keepGamsOutputs</em>, <em>verbose</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/findMustULWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.findMustULWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the second step of <cite>optForce</cite>, that is to solve a
bilevel mixed integer linear programming  problem to find a second order
MustUL set.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[mustUL, pos_mustUL, mustUL_linear, pos_mustUL_linear] = findMustULWithGAMS(model, minFluxesW, maxFluxesW, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at
least the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S - Stoichiometric matrix (sparse)</li>
<li>.b - RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c - Objective coefficients</li>
<li>.lb - Lower bounds for fluxes</li>
<li>.ub - Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>. E.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size n_rxns x 1) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>. E.g.:
<cite>maxFluxesW = [90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing
additional contraints. Include here only
reactions whose flux is fixed, i.e.,
reactions whose lower and upper bounds
have the same value. Do not include here
reactions whose lower and upper bounds
have different values. Such contraints
should be defined in the lower and upper
bounds of the model. The structure has the
following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained
reactions (double array)
E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedRxns</strong> &#8211;
(cell array) Reactions to be excluded to
the <cite>MustUL</cite> set. This could be used to
avoid finding transporters or exchange
reactions in the set. Default = empty.</p>
</li>
<li><p class="first"><strong>mustSetFirstOrder</strong> &#8211;
(cell array) Reactions that belong to
<cite>MustU</cite> and <cite>MustL</cite> (first order sets).
Default = empty.</p>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in
GAMS. Default = &#8216;cplex&#8217;.</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run.
Default = [&#8216;run&#8217; date hour].</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored.
Default = &#8216;OutputsFindMustUL&#8217;.</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which
results. will be stored
Default = &#8216;MustULSet&#8217;.</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an excel file or
not. Default = 1</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an plaint text
file or not. Default = 1</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with
inputs to run <cite>findMustUL.gms</cite>. 0 otherwise.
Default = 1</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustUL.gms</cite>. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise. Default = 0</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>mustUL</strong> &#8211;
(cell array of size number of sets found X
2) Cell array containing the reactions IDs
which belong to the <cite>MustUL</cite> set. Each row
contain a couple of reactions that must
decrease their flux.</li>
<li><strong>pos_mustUL</strong> &#8211;
(double array of size number of sets found
X 2) double array containing the positions
of each reaction in <cite>mustUL</cite> with regard to
model.rxns</li>
<li><strong>mustUL_linear</strong> &#8211;
(cell array of size number of unique
reactions found X 1) Cell array containing
the unique reactions ID which belong to
the <cite>MustUL</cite> Set</li>
<li><strong>pos_mustUL_linear</strong> &#8211;
(double array of size number of unique
reactions found X 1) double array
containing positions for reactions in
mustUL_linear. with regard to <cite>model.rxns</cite></li>
<li><strong>outputFileName.xls</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
MustUL. This file will only be generated
if the user entered <cite>printExcel = 1</cite>. Note
that the user can choose the name of this
file entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName.txt</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
MustUL. This file will only be generated
if the user entered <cite>printText = 1</cite>. Note
that the user can choose the name of this
file entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.xls</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustUL.gms</cite>. This file will only be
generated if the user entered <cite>printExcel = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.txt</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustUL.gms</cite>. This file will only be
generated if the user entered <cite>printText = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>findMustUL.lst</strong> &#8211;
(file) file autogenerated by GAMS. It
contains information about equations,
variables, parameters as well as
information about the running (values at
each iteration). This file only will be
saved in the output folder is the user
entered <cite>keepGamsOutputs = 1</cite></li>
<li><strong>GtoMUL.gdx</strong> &#8211;
(file) file containing values for
variables, parameters, etc. which were
found by GAMS when solving <cite>findMustUL.gms</cite>.
This file only will be saved in the output
folder is the user entered <cite>keepInputs = 1</cite></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.findMustUUWithGAMS">
<code class="descname">findMustUUWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>constrOpt</em>, <em>excludedRxns</em>, <em>mustSetFirstOrder</em>, <em>solverName</em>, <em>runID</em>, <em>outputFolder</em>, <em>outputFileName</em>, <em>printExcel</em>, <em>printText</em>, <em>printReport</em>, <em>keepInputs</em>, <em>keepGamsOutputs</em>, <em>verbose</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/findMustUUWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.findMustUUWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the second step of <cite>optForce</cite>, that is to solve a
bilevel mixed integer linear programming  problem to find a second order
<cite>MustUU</cite> set.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[mustUU, pos_mustUU, mustUU_linear, pos_mustUU_linear] = findMustUUWithGAMS(model, minFluxesW, maxFluxesW, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at
least the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S -    Stoichiometric matrix (sparse)</li>
<li>.b -    RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c -    Objective coefficients</li>
<li>.lb -   Lower bounds for fluxes</li>
<li>.ub -   Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>. E.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>. E.g.:
<cite>maxFluxesW = [90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing
additional contraints. Include here only
reactions whose flux is fixed, i.e.,
reactions whose lower and upper bounds
have the same value. Do not include here
reactions whose lower and upper bounds
have different values. Such contraints
should be defined in the lower and upper
bounds of the model. The structure has the
following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained
reactions (double array)
E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedRxns</strong> &#8211;
(cell array) Reactions to be excluded to
the <cite>MustUU</cite> set. This could be used to
avoid finding transporters or exchange
reactions in the set. Default = empty.</p>
</li>
<li><p class="first"><strong>mustSetFirstOrder</strong> &#8211;
(cell array) Reactions that belong to
<cite>MustU</cite> and <cite>MustL</cite> (first order sets).
Default = empty.</p>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in
GAMS. Default = &#8216;cplex&#8217;.</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run.
Default = [&#8216;run&#8217; date hour].</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored. Default =
&#8216;OutputsFindMustUU&#8217;.</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which
results. will be stored Default =
&#8216;MustUUSet&#8217;.</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an excel file or
not. Default = 1</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an plaint text
file or not. Default = 1</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with
inputs to run <cite>findMustUU.gms</cite>. 0 otherwise.
Default = 1</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustUU.gms</cite>. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise. Default = 0</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul class="simple">
<li><strong>mustUU</strong> &#8211;
(cell array of size number of sets found X
2) Cell array containing the reactions IDs
which belong to the <cite>MustUU</cite> set. Each row
contain a couple of reactions that must
decrease their flux.</li>
<li><strong>pos_mustUU</strong> &#8211;
(double array of size number of sets found
X 2) double array containing the positions
of each reaction in <cite>mustUU</cite> with regard to
<cite>model.rxns</cite></li>
<li><strong>mustUU_linear</strong> &#8211;
(cell array of size number of unique
reactions found X 1) Cell array containing
the unique reactions ID which belong to
the <cite>MustUU</cite> Set</li>
<li><strong>pos_mustUU_linear</strong> &#8211;
(double array of size number of unique
reactions found X 1) double array
containing positions for reactions in
<cite>mustUU_linear</cite>. with regard to <cite>model.rxns</cite></li>
<li><strong>outputFileName.xls</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
MustUU. This file will only be generated
if the user entered <cite>printExcel = 1</cite>. Note
that the user can choose the name of this
file entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName.txt</strong> &#8211;
(file) File containing one column
array with identifiers for reactions in
MustUU. This file will only be generated
if the user entered <cite>printText = 1</cite>. Note
that the user can choose the name of this
file entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.xls</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustUU.gms</cite>. This file will only be
generated if the user entered <cite>printExcel = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>outputFileName_Info.txt</strong> &#8211;
(file) File containing one column
array. In each row the user will find a
couple of reactions. Each couple of
reaction was found in one iteration of
<cite>FindMustUU.gms</cite>. This file will only be
generated if the user entered <cite>printText = 1</cite>.
Note that the user can choose the name
of this file entering the input
<cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></li>
<li><strong>findMustUU.lst</strong> &#8211;
(file) file autogenerated by GAMS. It
contains information about equations,
variables, parameters as well as
information about the running (values at
each iteration). This file only will be
saved in the output folder is the user
entered <cite>keepGamsOutputs = 1</cite></li>
<li><strong>GtoMUU.gdx</strong> &#8211;
(file) file containing values for
variables, parameters, etc. which were
found by GAMS when solving <cite>findMustUU.gms</cite>.
This file only will be saved in the output
folder is the user entered <cite>keepInputs = 1</cite></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.findMustUWithGAMS">
<code class="descname">findMustUWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>varargin</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/findMustUWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.findMustUWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the second step of <cite>optForce</cite>, that is to solve a
bilevel mixed integer linear programming  problem to find a first order
<cite>MustU</cite> set.</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[mustUSet, posMustU] = findMustUWithGAMS(model, minFluxesW, maxFluxesW, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at
least the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S - Stoichiometric matrix (sparse)</li>
<li>.b - RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c - Objective coefficients</li>
<li>.lb - Lower bounds for fluxes</li>
<li>.ub - Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite> e.g.:
<cite>maxFluxesW = [90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing
additional contraints. Include here only
reactions whose flux is fixed, i.e.,
reactions whose lower and upper bounds
have the same value. Do not include here
reactions whose lower and upper bounds
have different values. Such contraints
should be defined in the lower and upper
bounds of the model. The structure has the
following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values - Values for constrained reactions (double array)
e.g.: <cite>struct(&#8216;rxnList&#8217;,{{&#8216;EX_gluc&#8217;,&#8217;R75&#8217;,&#8217;EX_suc&#8217;}},&#8217;values&#8217;,[-100,0,155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in GAMS.
Default = &#8216;cplex&#8217;</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which results
will be stored</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter data
must be printed in an excel file or not</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter data
must be printed in an plaint text file or
not</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise.</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with inputs
to run <cite>findMustUU.gms</cite>. 0 otherwise.</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustUU.gms</cite>. 0 otherwise.</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise.</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>mustUSet</strong> &#8211;
(cell array of size number of reactions
found X 1) Cell array containing the
reactions ID which belong to the <cite>Must_U</cite>
Set</p>
</li>
<li><p class="first"><strong>posMustU</strong> &#8211;
(double array of size number of reactions
found X 1)  double array containing the
positions of reactions in the model.</p>
</li>
<li><p class="first"><strong>outputFileName.xls</strong> &#8211;
(file) File containing one column array
with identifiers for reactions in MustU.
This file will only be generated if the
user entered <cite>printExcel = 1</cite>. Note that the
user can choose the name of this file
entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName.txt</strong> &#8211;
(file) File containing one column array
with identifiers for reactions in MustU.
This file will only be generated if the
user entered <cite>printText = 1</cite>. Note that the
user can choose the name of this file
entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName_Info.xls</strong> &#8211;
(file) File containing five column
arrays.</p>
<blockquote>
<div><ul class="simple">
<li>C1: identifiers for reactions in <cite>MustU</cite></li>
<li>C2: min fluxes for reactions according to FVA</li>
<li>C3: max fluxes for reactions according to FVA</li>
<li>C4: min fluxes achieved for reactions,
according to <cite>findMustU.gms</cite></li>
<li>C5: max fluxes achieved for reactions,
according to <cite>findMustU.gms</cite></li>
</ul>
</div></blockquote>
<p>This file will only be generated if the
user entered <cite>printExcel = 1</cite>. Note that the
user can choose the name of this file
entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>outputFileName_Info.txt</strong> &#8211;
(file) File containing five column
arrays.</p>
<blockquote>
<div><ul class="simple">
<li>C1: identifiers for reactions in MustU</li>
<li>C2: min fluxes for reactions according to FVA</li>
<li>C3: max fluxes for reactions according to FVA</li>
<li>C4: min fluxes achieved for reactions,
according to <cite>findMustU.gms</cite></li>
<li>C5: max fluxes achieved for reactions,
according to <cite>findMustU.gms</cite></li>
</ul>
</div></blockquote>
<p>This file will only be generated if the
user entered <cite>printText = 1</cite>. Note that the
user can choose the name of this file
entering the input <cite>outputFileName = &#8216;PutYourOwnFileNameHere&#8217;;</cite></p>
</li>
<li><p class="first"><strong>findMustU.lst</strong> &#8211;
(file) file autogenerated by GAMS. It
contains information about equations,
variables, parameters as well as
information about the running (values at
each iteration). This file only will be
saved in the output folder is the user
entered <cite>keepGamsOutputs = 1</cite></p>
</li>
<li><p class="first"><strong>GtoMU.gdx</strong> &#8211;
(file) file containing values for
variables, parameters, etc. which were
found by GAMS when solving <cite>findMustU.gms</cite>.
This file only will be saved in the output
folder is the user entered <cite>keepInputs = 1</cite></p>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="src.design.optForceGAMS.optForceWithGAMS">
<code class="descname">optForceWithGAMS</code><span class="sig-paren">(</span><em>model</em>, <em>targetRxn</em>, <em>mustU</em>, <em>mustL</em>, <em>minFluxesW</em>, <em>maxFluxesW</em>, <em>minFluxesM</em>, <em>maxFluxesM</em>, <em>k</em>, <em>nSets</em>, <em>constrOpt</em>, <em>excludedRxns</em>, <em>runID</em>, <em>outputFolder</em>, <em>outputFileName</em>, <em>solverName</em>, <em>printExcel</em>, <em>printText</em>, <em>printReport</em>, <em>keepInputs</em>, <em>keepGamsOutputs</em>, <em>verbose</em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/opencobra/cobratoolbox/blob/efb2c06be702aaed38349581ba73ed420251992b/src/design/optForceGAMS/optForceWithGAMS.m"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#src.design.optForceGAMS.optForceWithGAMS" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the third step of <cite>optForce</cite> that is to solve a
bilevel mixed integer linear programming problem to find sets of
interventions that lead to an increased production of a particular target</p>
<p><strong>Usage</strong></p>
<blockquote>
<div>[optForceSets, posOptForceSets, typeRegOptForceSets, fluxOptForceSets] = optForceWithGAMS(model, targetRxn, mustU, mustL, minFluxesW, maxFluxesW, minFluxesM, maxFluxesM, varargin)</div></blockquote>
<p><strong>Inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>model</strong> &#8211;
(structure) a metabolic model with at least
the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxns - Reaction IDs in the model</li>
<li>.mets - Metabolite IDs in the model</li>
<li>.S - Stoichiometric matrix (sparse)</li>
<li>.b - RHS of <cite>Sv = b</cite> (usually zeros)</li>
<li>.c - Objective coefficients</li>
<li>.lb - Lower bounds for fluxes</li>
<li>.ub - Upper bounds for fluxes</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>targetRxn</strong> &#8211;
(string) string containing the ID for the
reaction whose flux is intented to be
increased. For E.g., if the production of
succionate is desired to be increased,
&#8216;EX_suc&#8217; should be chosen as the target
reaction E.g.: <cite>targetRxn = &#8216;EX_suc&#8217;;</cite></p>
</li>
<li><p class="first"><strong>mustU</strong> &#8211;
(cell array) List of reactions in the <cite>MustU</cite>
set. This input can be obtained by running the
script <cite>findMustU.m</cite> E.g.
<cite>mustU = {&#8216;R21_f&#8217;;&#8217;R22_f&#8217;};</cite></p>
</li>
<li><p class="first"><strong>mustL</strong> &#8211;
(cell array) List of reactions in the <cite>MustL</cite>
set. This input can be obtained by running the
script <cite>findMustL.m</cite> E.g.
<cite>mustL = {&#8216;R11_f&#8217;;&#8217;R26_f&#8217;};</cite></p>
</li>
<li><p class="first"><strong>minFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>.
E.g.: <cite>minFluxesW = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesW</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) maximum
fluxes for each reaction in the model for
wild-type strain. This can be obtained by
running the function <cite>FVAOptForce</cite>.
E.g.: <cite>maxFluxesW = [90; 56];</cite></p>
</li>
<li><p class="first"><strong>minFluxesM</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>) minimum
fluxes for each reaction in the model for
mutant strain. This can be obtained by running
the function <cite>FVAOptForce</cite>. E.g.: <cite>minFluxesM = [-90; -56];</cite></p>
</li>
<li><p class="first"><strong>maxFluxesM</strong> &#8211;
(double array of size <cite>n_rxns x 1</cite>)
Description: Maximum fluxes for each reaction
in the model for mutant strain. This can be
obtained by running the function <cite>FVAOptForce</cite>.
E.g.: <cite>maxFluxesM = [90; 56];</cite></p>
</li>
</ul>
</div></blockquote>
<p><strong>Optional inputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>k</strong> &#8211;
(double) number of intervations to be
found. Default <cite>k = 1</cite>;</p>
</li>
<li><p class="first"><strong>nSets</strong> &#8211;
(double) maximum number of force sets
returned by optForce. Default <cite>nSets = 1</cite>;</p>
</li>
<li><p class="first"><strong>constrOpt</strong> &#8211;
(Structure) structure containing
additional contraints. Include here only
reactions whose flux is fixed, i.e., reactions
whose lower and upper bounds have the same
value. Do not include here reactions whose
lower and upper bounds have different values.
Such contraints should be defined in the lower
and upper bounds of the model. The structure
has the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.values -  Values for constrained
reactions (double array)
E.g.: <cite>struct(&#8216;rxnList&#8217;, {{&#8216;EX_gluc&#8217;, &#8216;R75&#8217;, &#8216;EX_suc&#8217;}}, &#8216;values&#8217;, [-100, 0, 155.5]&#8217;);</cite></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>excludedRxns</strong> &#8211;
(structure) Reactions to be excluded. This
structure has the following fields</p>
<blockquote>
<div><ul class="simple">
<li>.rxnList - Reaction list (cell array)</li>
<li>.typeReg - set from which reaction is
excluded (char array) (U: Set of
upregulared reactions, D: set of
downregulared reations, K: set of knockout
reactions)</li>
</ul>
</div></blockquote>
<p>E.g.: <cite>excludedRxns = struct(&#8216;rxnList&#8217;, {{&#8216;SUCt&#8217;, &#8216;R68_b&#8217;}}, &#8216;typeReg&#8217;, &#8216;UD&#8217;)</cite> In this
E.g. &#8216;SUCt&#8217; is prevented to appear in the set of
upregulated reactions and &#8216;R68_b&#8217; is prevented
to appear in the downregulated set of
reactions. Default = empty.</p>
</li>
<li><p class="first"><strong>solverName</strong> &#8211;
(string) Name of the solver used in
GAMS. Default = &#8216;cplex&#8217;.</p>
</li>
<li><p class="first"><strong>runID</strong> &#8211;
(string) ID for identifying this run.
Default = [&#8216;run&#8217; date hour].</p>
</li>
<li><p class="first"><strong>outputFolder</strong> &#8211;
(string) name for folder in which
results will be stored. Default =
&#8216;OutputsFindMustLL&#8217;.</p>
</li>
<li><p class="first"><strong>outputFileName</strong> &#8211;
(string) name for files in which
results. will be stored Default = &#8216;MustLLSet&#8217;.</p>
</li>
<li><p class="first"><strong>printExcel</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an excel file or not.
Default = 1</p>
</li>
<li><p class="first"><strong>printText</strong> &#8211;
(double) boolean to describe wheter
data must be printed in an plaint text file or
not. Default = 1</p>
</li>
<li><p class="first"><strong>printReport</strong> &#8211;
(double) 1 to generate a report in a
plain text file. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>keepInputs</strong> &#8211;
(double) 1 to mantain folder with
inputs to run <cite>findMustLL.gms</cite>. 0 otherwise.
Default = 1</p>
</li>
<li><p class="first"><strong>keepGamsOutputs</strong> &#8211;
(double) 1 to mantain files returned by
<cite>findMustLL.gms</cite>. 0 otherwise. Default = 1</p>
</li>
<li><p class="first"><strong>verbose</strong> &#8211;
(double) 1 to print results in console.
0 otherwise. Default = 0</p>
</li>
</ul>
</div></blockquote>
<p><strong>Outputs</strong></p>
<blockquote>
<div><ul>
<li><p class="first"><strong>optForceSets</strong> &#8211;
(cell array) cell array of size  <cite>n x m</cite>, where
<cite>n</cite> = number of sets found and <cite>m</cite> = size of sets
found (<cite>k</cite>). Element in position <cite>i</cite>, <cite>j</cite> is reaction
<cite>j</cite> in set <cite>i</cite>.
E.g.</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="31%" />
<col width="31%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td></td>
<td>rxn1</td>
<td>rxn2</td>
</tr>
<tr class="row-even"><td>set 1</td>
<td>R4</td>
<td>R2</td>
</tr>
<tr class="row-odd"><td>set 2</td>
<td>R3</td>
<td>R1</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><strong>posOptForceSets</strong> &#8211;
(double array) double array of size  <cite>n x m</cite>,
where <cite>n</cite> = number of sets found and <cite>m</cite> = size of
sets found (<cite>k</cite>). Element in position <cite>i</cite>, <cite>j</cite> is the
position of reaction in <cite>optForceSets(i, j)</cite> in
<cite>model.rxns</cite>
E.g.</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="31%" />
<col width="31%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td></td>
<td>rxn1</td>
<td>rxn2</td>
</tr>
<tr class="row-even"><td>set 1</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>set 2</td>
<td>3</td>
<td>1</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><strong>typeRegOptForceSets</strong> &#8211;
(cell array) cell array of size <cite>n x m</cite>, where
<cite>n</cite> = number of sets found and <cite>m</cite> = size of sets
found (<cite>k</cite>). Element in position <cite>i</cite>, <cite>j</cite> is the kind
of intervention for reaction in
<cite>optForceSets(i,j)</cite>
E.g.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="39%" />
<col width="45%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td></td>
<td>rxn1</td>
<td>rxn2</td>
</tr>
<tr class="row-even"><td>set 1</td>
<td>upregulation</td>
<td>downregulation</td>
</tr>
<tr class="row-odd"><td>set 2</td>
<td>upregulation</td>
<td>knockout</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><strong>fluxOptForceSets</strong> &#8211;
(double matrix) Matrix of size <cite>n + m</cite>, where
<cite>n</cite> = number of sets found and <cite>m</cite> = size of sets
found (<cite>k</cite>). The number in <cite>(i,j)</cite> is the flux
achieved for the reaction in <cite>optForceSets(i, j)</cite></p>
</li>
<li><p class="first"><strong>outputFileName.xls</strong> &#8211;
(file) file containing 11 columns.</p>
<blockquote>
<div><ul class="simple">
<li>C1: Number of invervetions (<cite>k</cite>)</li>
<li>C2: Set Number</li>
<li>C3: Identifiers for reactions in the force set</li>
<li>C4: Type of regulations for each reaction in
the force set</li>
<li>C5: min flux of each reaction in force set,
according to FVA</li>
<li>C6: max flux of each reaction in force set,
according to FVA</li>
<li>C7: achieved flux of each of the reactions in
the force set after applying the inverventions</li>
<li>C8: objetive function achieved by <cite>OptForce.gms</cite></li>
<li>C9: Minimum flux fot target when applying the
interventions</li>
<li>C10: Maximum flux fot target when applying the
interventions</li>
<li>C11: Maximum growth rate when applying the
interventions.</li>
</ul>
</div></blockquote>
<p>In the rows, the user can see each of the
<cite>optForce</cite> sets found.</p>
</li>
<li><p class="first"><strong>outputFileName.txt</strong> &#8211;
Same as outputFileName.xls but in a .txt file,
separated by tabs.</p>
</li>
<li><p class="first"><strong>optForce.lst</strong> &#8211;
(file) file generated automatically by
GAMS when running <cite>optForce</cite>. Contains
information about the running.</p>
</li>
<li><p class="first"><strong>GtoMOF.gdx</strong> &#8211;
(file) file generated by GAMS containing
variables, parameters and equations of the
<cite>optForce</cite> problem.</p>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is based in the GAMS files written by Sridhar
Ranganathan which were provided by the research group of Costas D.
Maranas. For a detailed description of the <cite>optForce</cite> procedure, please
see: <cite>Ranganathan S, Suthers PF, Maranas CD (2010) OptForce: An
Optimization Procedure for Identifying All Genetic Manipulations
Leading to Targeted Overproductions. PLOS Computational Biology 6(4):
e1000744</cite>. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1000744">https://doi.org/10.1371/journal.pcbi.1000744</a></p>
</div>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../reconstruction/index.html" class="btn btn-default float-right" title="Reconstruction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../optForce/index.html" class="btn btn-default" title="optForce" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, The COBRA Toolbox developers.

    </p>
  </div>
  Built with Sphinx using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/mathjax/MathJax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  


  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
